{
  "task_type": "quantile_forecast",
  "forecast": {
    "H": 24,
    "quantiles": [
      0.1,
      0.5,
      0.9
    ],
    "signal_horizon": 24,
    "q_indices": {
      "q10": 0,
      "q50": 1,
      "q90": 2
    },
    "val_pinball": 0.007684368194408431,
    "test_pinball": 0.006122461484541226,
    "val_mae_at_signal": 0.03277922421693802,
    "test_mae_at_signal": 0.025484856218099594
  },
  "signal": {
    "score_definition": "score = mu / (iqr + eps), long if score>=thr and mu>0",
    "eps": 1e-06,
    "selected_threshold": 0.0,
    "threshold_sweep": [
      {
        "threshold": 0.0,
        "val_trading": {
          "avg_daily_return": 0.0019025540349375464,
          "cumulative_return": 0.44002751344830204,
          "sharpe": 0.8584533390308724,
          "hit_ratio": 0.5069252077562327,
          "avg_return_in_position": 0.0019025540349375464
        },
        "test_trading": {
          "avg_daily_return": -0.002251880505298697,
          "cumulative_return": -0.6395826195757158,
          "sharpe": -1.279336604468984,
          "hit_ratio": 0.4598337950138504,
          "avg_return_in_position": -0.002251880505298697
        },
        "selection_score": 0.8584533390308724,
        "val_long_rate": 1.0,
        "test_long_rate": 1.0
      },
      {
        "threshold": 0.25,
        "val_trading": {
          "avg_daily_return": 0.0,
          "cumulative_return": 0.0,
          "sharpe": 0.0,
          "hit_ratio": 0.0,
          "avg_return_in_position": 0.0
        },
        "test_trading": {
          "avg_daily_return": 0.0,
          "cumulative_return": 0.0,
          "sharpe": 0.0,
          "hit_ratio": 0.0,
          "avg_return_in_position": 0.0
        },
        "selection_score": 0.0,
        "val_long_rate": 0.0,
        "test_long_rate": 0.0
      },
      {
        "threshold": 0.5,
        "val_trading": {
          "avg_daily_return": 0.0,
          "cumulative_return": 0.0,
          "sharpe": 0.0,
          "hit_ratio": 0.0,
          "avg_return_in_position": 0.0
        },
        "test_trading": {
          "avg_daily_return": 0.0,
          "cumulative_return": 0.0,
          "sharpe": 0.0,
          "hit_ratio": 0.0,
          "avg_return_in_position": 0.0
        },
        "selection_score": 0.0,
        "val_long_rate": 0.0,
        "test_long_rate": 0.0
      },
      {
        "threshold": 0.75,
        "val_trading": {
          "avg_daily_return": 0.0,
          "cumulative_return": 0.0,
          "sharpe": 0.0,
          "hit_ratio": 0.0,
          "avg_return_in_position": 0.0
        },
        "test_trading": {
          "avg_daily_return": 0.0,
          "cumulative_return": 0.0,
          "sharpe": 0.0,
          "hit_ratio": 0.0,
          "avg_return_in_position": 0.0
        },
        "selection_score": 0.0,
        "val_long_rate": 0.0,
        "test_long_rate": 0.0
      },
      {
        "threshold": 1.0,
        "val_trading": {
          "avg_daily_return": 0.0,
          "cumulative_return": 0.0,
          "sharpe": 0.0,
          "hit_ratio": 0.0,
          "avg_return_in_position": 0.0
        },
        "test_trading": {
          "avg_daily_return": 0.0,
          "cumulative_return": 0.0,
          "sharpe": 0.0,
          "hit_ratio": 0.0,
          "avg_return_in_position": 0.0
        },
        "selection_score": 0.0,
        "val_long_rate": 0.0,
        "test_long_rate": 0.0
      },
      {
        "threshold": 1.25,
        "val_trading": {
          "avg_daily_return": 0.0,
          "cumulative_return": 0.0,
          "sharpe": 0.0,
          "hit_ratio": 0.0,
          "avg_return_in_position": 0.0
        },
        "test_trading": {
          "avg_daily_return": 0.0,
          "cumulative_return": 0.0,
          "sharpe": 0.0,
          "hit_ratio": 0.0,
          "avg_return_in_position": 0.0
        },
        "selection_score": 0.0,
        "val_long_rate": 0.0,
        "test_long_rate": 0.0
      },
      {
        "threshold": 1.5,
        "val_trading": {
          "avg_daily_return": 0.0,
          "cumulative_return": 0.0,
          "sharpe": 0.0,
          "hit_ratio": 0.0,
          "avg_return_in_position": 0.0
        },
        "test_trading": {
          "avg_daily_return": 0.0,
          "cumulative_return": 0.0,
          "sharpe": 0.0,
          "hit_ratio": 0.0,
          "avg_return_in_position": 0.0
        },
        "selection_score": 0.0,
        "val_long_rate": 0.0,
        "test_long_rate": 0.0
      },
      {
        "threshold": 2.0,
        "val_trading": {
          "avg_daily_return": 0.0,
          "cumulative_return": 0.0,
          "sharpe": 0.0,
          "hit_ratio": 0.0,
          "avg_return_in_position": 0.0
        },
        "test_trading": {
          "avg_daily_return": 0.0,
          "cumulative_return": 0.0,
          "sharpe": 0.0,
          "hit_ratio": 0.0,
          "avg_return_in_position": 0.0
        },
        "selection_score": 0.0,
        "val_long_rate": 0.0,
        "test_long_rate": 0.0
      }
    ],
    "val_trading_metrics": {
      "avg_daily_return": 0.0019025540349375464,
      "cumulative_return": 0.44002751344830204,
      "sharpe": 0.8584533390308724,
      "hit_ratio": 0.5069252077562327,
      "avg_return_in_position": 0.0019025540349375464
    },
    "test_trading_metrics": {
      "avg_daily_return": -0.002251880505298697,
      "cumulative_return": -0.6395826195757158,
      "sharpe": -1.279336604468984,
      "hit_ratio": 0.4598337950138504,
      "avg_return_in_position": -0.002251880505298697
    }
  },
  "costs_and_baselines": {
    "trading_days_per_year": 365,
    "cost_bps": 5.0,
    "slippage_bps": 2.0,
    "strategy_long_rate": {
      "val": 1.0,
      "test": 1.0
    },
    "strategy_net": {
      "val": {
        "cumulative_return": 0.43907876157836023,
        "sharpe": 0.8576344289488267,
        "cagr": 0.44489468415118694,
        "volatility": 0.8088813171479041,
        "max_drawdown": 0.5315393556769157,
        "hit_rate": 0.5069252077562327,
        "avg_trade_return": 0.0019006149767658016
      },
      "test": {
        "cumulative_return": -0.6398491420431404,
        "sharpe": -1.2803248756434737,
        "cagr": -0.6439014920276128,
        "volatility": 0.6425276555321645,
        "max_drawdown": 0.6677922866694599,
        "hit_rate": 0.4598337950138504,
        "avg_trade_return": -0.002253819563470442
      }
    },
    "buy_hold_net": {
      "val": {
        "cumulative_return": 0.43907876157836023,
        "sharpe": 0.8576344289488267,
        "cagr": 0.44489468415118694,
        "volatility": 0.8088813171479041,
        "max_drawdown": 0.5315393556769157,
        "hit_rate": 0.5069252077562327,
        "avg_trade_return": 0.0019006149767658016
      },
      "test": {
        "cumulative_return": -0.6398491420431404,
        "sharpe": -1.2803248756434737,
        "cagr": -0.6439014920276128,
        "volatility": 0.6425276555321645,
        "max_drawdown": 0.6677922866694599,
        "hit_rate": 0.4598337950138504,
        "avg_trade_return": -0.002253819563470442
      }
    },
    "random_baseline_summary": {
      "val": {
        "runs": 1000,
        "long_rate": 1.0,
        "sharpe_mean": 0.8576344289488269,
        "sharpe_median": 0.8576344289488267,
        "sharpe_p95": 0.8576344289488267,
        "cumulative_return_mean": 0.4390787615783602,
        "cumulative_return_median": 0.43907876157836023,
        "cumulative_return_p95": 0.43907876157836023
      },
      "test": {
        "runs": 1000,
        "long_rate": 1.0,
        "sharpe_mean": -1.2803248756434737,
        "sharpe_median": -1.2803248756434737,
        "sharpe_p95": -1.2803248756434737,
        "cumulative_return_mean": -0.6398491420431404,
        "cumulative_return_median": -0.6398491420431404,
        "cumulative_return_p95": -0.6398491420431404
      }
    }
  }
}