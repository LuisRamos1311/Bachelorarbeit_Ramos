{
  "task_type": "quantile_forecast",
  "forecast": {
    "H": 24,
    "quantiles": [
      0.1,
      0.5,
      0.9
    ],
    "signal_horizon": 24,
    "q_indices": {
      "q10": 0,
      "q50": 1,
      "q90": 2
    },
    "val_pinball": 0.003582015634633919,
    "test_pinball": 0.004461861006884399,
    "val_mae_at_signal": 0.015406708233058453,
    "test_mae_at_signal": 0.019419027492403984
  },
  "signal": {
    "score_definition": "score = mu / (iqr + eps), long if score>=thr and mu>0",
    "eps": 1e-06,
    "selected_threshold": 0.015,
    "threshold_sweep": [
      {
        "threshold": 0.015,
        "val_trading": {
          "avg_daily_return": 0.002813445083988148,
          "cumulative_return": 1.507053889282294,
          "sharpe": 2.318419953721079,
          "hit_ratio": 0.4930747922437673,
          "avg_return_in_position": 0.002813445083988148
        },
        "test_trading": {
          "avg_daily_return": 0.0024486293239317884,
          "cumulative_return": 1.111895212614277,
          "sharpe": 1.6830095313800941,
          "hit_ratio": 0.5220994475138122,
          "avg_return_in_position": 0.0024486293239317884
        },
        "selection_score": 2.318419953721079,
        "val_long_rate": 1.0,
        "test_long_rate": 1.0
      },
      {
        "threshold": 0.02,
        "val_trading": {
          "avg_daily_return": 0.002813445083988148,
          "cumulative_return": 1.507053889282294,
          "sharpe": 2.318419953721079,
          "hit_ratio": 0.4930747922437673,
          "avg_return_in_position": 0.002813445083988148
        },
        "test_trading": {
          "avg_daily_return": 0.0024486293239317884,
          "cumulative_return": 1.111895212614277,
          "sharpe": 1.6830095313800941,
          "hit_ratio": 0.5220994475138122,
          "avg_return_in_position": 0.0024486293239317884
        },
        "selection_score": 2.318419953721079,
        "val_long_rate": 1.0,
        "test_long_rate": 1.0
      },
      {
        "threshold": 0.025,
        "val_trading": {
          "avg_daily_return": 0.002809549621835617,
          "cumulative_return": 1.5041390698414672,
          "sharpe": 2.318065526894805,
          "hit_ratio": 0.4792243767313019,
          "avg_return_in_position": 0.002889593770605862
        },
        "test_trading": {
          "avg_daily_return": 0.0023770403152309676,
          "cumulative_return": 1.0636221884214154,
          "sharpe": 1.6499271343446515,
          "hit_ratio": 0.494475138121547,
          "avg_return_in_position": 0.0024869612546636138
        },
        "selection_score": 2.318065526894805,
        "val_long_rate": 0.9722991689750693,
        "test_long_rate": 0.9558011049723757
      },
      {
        "threshold": 0.03,
        "val_trading": {
          "avg_daily_return": 0.001430105486910363,
          "cumulative_return": 0.608556351331127,
          "sharpe": 1.7990901930683323,
          "hit_ratio": 0.1634349030470914,
          "avg_return_in_position": 0.0041301446461971284
        },
        "test_trading": {
          "avg_daily_return": 0.0019036479110762108,
          "cumulative_return": 0.8633738836928075,
          "sharpe": 1.883546252568737,
          "hit_ratio": 0.212707182320442,
          "avg_return_in_position": 0.005030076962113784
        },
        "selection_score": 1.7990901930683323,
        "val_long_rate": 0.3462603878116344,
        "test_long_rate": 0.3784530386740331
      },
      {
        "threshold": 0.035,
        "val_trading": {
          "avg_daily_return": 0.0003190806379428783,
          "cumulative_return": 0.1160889198856705,
          "sharpe": 1.091082108183731,
          "hit_ratio": 0.013850415512465374,
          "avg_return_in_position": 0.011518811029737907
        },
        "test_trading": {
          "avg_daily_return": 0.0003898829781060296,
          "cumulative_return": 0.11780883701847533,
          "sharpe": 0.5776237608491572,
          "hit_ratio": 0.07734806629834254,
          "avg_return_in_position": 0.002822752761487654
        },
        "selection_score": 1.091082108183731,
        "val_long_rate": 0.027700831024930747,
        "test_long_rate": 0.13812154696132597
      },
      {
        "threshold": 0.04,
        "val_trading": {
          "avg_daily_return": 0.0,
          "cumulative_return": 0.0,
          "sharpe": 0.0,
          "hit_ratio": 0.0,
          "avg_return_in_position": 0.0
        },
        "test_trading": {
          "avg_daily_return": 0.0006247432831302849,
          "cumulative_return": 0.23566371745796943,
          "sharpe": 1.3034868149199947,
          "hit_ratio": 0.03038674033149171,
          "avg_return_in_position": 0.012564281582953508
        },
        "selection_score": 0.0,
        "val_long_rate": 0.0,
        "test_long_rate": 0.049723756906077346
      },
      {
        "threshold": 0.045,
        "val_trading": {
          "avg_daily_return": 0.0,
          "cumulative_return": 0.0,
          "sharpe": 0.0,
          "hit_ratio": 0.0,
          "avg_return_in_position": 0.0
        },
        "test_trading": {
          "avg_daily_return": 6.273047258193337e-05,
          "cumulative_return": 0.022746931233665446,
          "sharpe": 1.0889668770653902,
          "hit_ratio": 0.0055248618784530384,
          "avg_return_in_position": 0.011354215537329942
        },
        "selection_score": 0.0,
        "val_long_rate": 0.0,
        "test_long_rate": 0.0055248618784530384
      },
      {
        "threshold": 0.05,
        "val_trading": {
          "avg_daily_return": 0.0,
          "cumulative_return": 0.0,
          "sharpe": 0.0,
          "hit_ratio": 0.0,
          "avg_return_in_position": 0.0
        },
        "test_trading": {
          "avg_daily_return": 0.0,
          "cumulative_return": 0.0,
          "sharpe": 0.0,
          "hit_ratio": 0.0,
          "avg_return_in_position": 0.0
        },
        "selection_score": 0.0,
        "val_long_rate": 0.0,
        "test_long_rate": 0.0
      },
      {
        "threshold": 0.055,
        "val_trading": {
          "avg_daily_return": 0.0,
          "cumulative_return": 0.0,
          "sharpe": 0.0,
          "hit_ratio": 0.0,
          "avg_return_in_position": 0.0
        },
        "test_trading": {
          "avg_daily_return": 0.0,
          "cumulative_return": 0.0,
          "sharpe": 0.0,
          "hit_ratio": 0.0,
          "avg_return_in_position": 0.0
        },
        "selection_score": 0.0,
        "val_long_rate": 0.0,
        "test_long_rate": 0.0
      }
    ],
    "val_trading_metrics": {
      "avg_daily_return": 0.002813445083988148,
      "cumulative_return": 1.507053889282294,
      "sharpe": 2.318419953721079,
      "hit_ratio": 0.4930747922437673,
      "avg_return_in_position": 0.002813445083988148
    },
    "test_trading_metrics": {
      "avg_daily_return": 0.0024486293239317884,
      "cumulative_return": 1.111895212614277,
      "sharpe": 1.6830095313800941,
      "hit_ratio": 0.5220994475138122,
      "avg_return_in_position": 0.0024486293239317884
    }
  },
  "costs_and_baselines": {
    "trading_days_per_year": 365,
    "cost_bps": 5.0,
    "slippage_bps": 2.0,
    "strategy_long_rate": {
      "val": 1.0,
      "test": 1.0
    },
    "strategy_net": {
      "val": {
        "cumulative_return": 1.505296448216253,
        "sharpe": 2.3167836300027114,
        "cagr": 1.530921145893486,
        "volatility": 0.4429415359006944,
        "max_drawdown": 0.20080670908452536,
        "hit_rate": 0.4930747922437673,
        "avg_trade_return": 0.002811506025816403
      },
      "test": {
        "cumulative_return": 1.1104158151967511,
        "sharpe": 1.6816655834005403,
        "cagr": 1.123519070783074,
        "volatility": 0.5310472610875955,
        "max_drawdown": 0.2618154261868606,
        "hit_rate": 0.5220994475138122,
        "avg_trade_return": 0.0024466956222743298
      }
    },
    "buy_hold_net": {
      "val": {
        "cumulative_return": 1.505296448216253,
        "sharpe": 2.3167836300027114,
        "cagr": 1.530921145893486,
        "volatility": 0.4429415359006944,
        "max_drawdown": 0.20080670908452536,
        "hit_rate": 0.4930747922437673,
        "avg_trade_return": 0.002811506025816403
      },
      "test": {
        "cumulative_return": 1.1104158151967511,
        "sharpe": 1.6816655834005403,
        "cagr": 1.123519070783074,
        "volatility": 0.5310472610875955,
        "max_drawdown": 0.2618154261868606,
        "hit_rate": 0.5220994475138122,
        "avg_trade_return": 0.0024466956222743298
      }
    },
    "random_baseline_summary": {
      "val": {
        "runs": 1000,
        "long_rate": 1.0,
        "sharpe_mean": 2.3167836300027105,
        "sharpe_median": 2.3167836300027114,
        "sharpe_p95": 2.3167836300027114,
        "cumulative_return_mean": 1.505296448216253,
        "cumulative_return_median": 1.505296448216253,
        "cumulative_return_p95": 1.505296448216253
      },
      "test": {
        "runs": 1000,
        "long_rate": 1.0,
        "sharpe_mean": 1.6816655834005407,
        "sharpe_median": 1.6816655834005403,
        "sharpe_p95": 1.6816655834005403,
        "cumulative_return_mean": 1.110415815196751,
        "cumulative_return_median": 1.1104158151967511,
        "cumulative_return_p95": 1.1104158151967511
      }
    }
  }
}